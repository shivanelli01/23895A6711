{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\NELLI SHIVA\\\\Desktop\\\\url-shortener\\\\src\\\\components\\\\Redirect.js\",\n  _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Log } from \"../utils/loggingMiddleware\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RedirectPage() {\n  _s();\n  const {\n    shortcode\n  } = useParams();\n  useEffect(() => {\n    let stored = JSON.parse(localStorage.getItem(\"urls\")) || [];\n    let urlData = stored.find(u => u.shortcode === shortcode);\n    if (urlData) {\n      const now = new Date();\n      if (new Date(urlData.expiresAt) > now) {\n        // Log click\n        urlData.clicks.push({\n          timestamp: new Date(),\n          source: document.referrer || \"Direct\",\n          location: \"Unknown\"\n        });\n        localStorage.setItem(\"urls\", JSON.stringify(stored));\n        Log(\"Frontend\", \"info\", \"Redirect\", `Redirected to ${urlData.original}`);\n        window.location.href = urlData.original;\n      } else {\n        alert(\"❌ This link has expired!\");\n      }\n    } else {\n      alert(\"❌ Invalid short URL\");\n    }\n  }, [shortcode]);\n  return /*#__PURE__*/_jsxDEV(\"h2\", {\n    children: \"Redirecting...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 10\n  }, this);\n}\n_s(RedirectPage, \"Z64ES9pUWAY57+2y3vr1QS+VHy0=\", false, function () {\n  return [useParams];\n});\n_c = RedirectPage;\nexport default RedirectPage;\nvar _c;\n$RefreshReg$(_c, \"RedirectPage\");","map":{"version":3,"names":["useEffect","useParams","Log","jsxDEV","_jsxDEV","RedirectPage","_s","shortcode","stored","JSON","parse","localStorage","getItem","urlData","find","u","now","Date","expiresAt","clicks","push","timestamp","source","document","referrer","location","setItem","stringify","original","window","href","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/NELLI SHIVA/Desktop/url-shortener/src/components/Redirect.js"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Log } from \"../utils/loggingMiddleware\";\r\n\r\nfunction RedirectPage() {\r\n  const { shortcode } = useParams();\r\n\r\n  useEffect(() => {\r\n    let stored = JSON.parse(localStorage.getItem(\"urls\")) || [];\r\n    let urlData = stored.find((u) => u.shortcode === shortcode);\r\n\r\n    if (urlData) {\r\n      const now = new Date();\r\n      if (new Date(urlData.expiresAt) > now) {\r\n        // Log click\r\n        urlData.clicks.push({\r\n          timestamp: new Date(),\r\n          source: document.referrer || \"Direct\",\r\n          location: \"Unknown\",\r\n        });\r\n\r\n        localStorage.setItem(\"urls\", JSON.stringify(stored));\r\n        Log(\"Frontend\", \"info\", \"Redirect\", `Redirected to ${urlData.original}`);\r\n        window.location.href = urlData.original;\r\n      } else {\r\n        alert(\"❌ This link has expired!\");\r\n      }\r\n    } else {\r\n      alert(\"❌ Invalid short URL\");\r\n    }\r\n  }, [shortcode]);\r\n\r\n  return <h2>Redirecting...</h2>;\r\n}\r\n\r\nexport default RedirectPage;\r\n"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,GAAG,QAAQ,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACtB,MAAM;IAAEC;EAAU,CAAC,GAAGN,SAAS,CAAC,CAAC;EAEjCD,SAAS,CAAC,MAAM;IACd,IAAIQ,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;IAC3D,IAAIC,OAAO,GAAGL,MAAM,CAACM,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACR,SAAS,KAAKA,SAAS,CAAC;IAE3D,IAAIM,OAAO,EAAE;MACX,MAAMG,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC;MACtB,IAAI,IAAIA,IAAI,CAACJ,OAAO,CAACK,SAAS,CAAC,GAAGF,GAAG,EAAE;QACrC;QACAH,OAAO,CAACM,MAAM,CAACC,IAAI,CAAC;UAClBC,SAAS,EAAE,IAAIJ,IAAI,CAAC,CAAC;UACrBK,MAAM,EAAEC,QAAQ,CAACC,QAAQ,IAAI,QAAQ;UACrCC,QAAQ,EAAE;QACZ,CAAC,CAAC;QAEFd,YAAY,CAACe,OAAO,CAAC,MAAM,EAAEjB,IAAI,CAACkB,SAAS,CAACnB,MAAM,CAAC,CAAC;QACpDN,GAAG,CAAC,UAAU,EAAE,MAAM,EAAE,UAAU,EAAE,iBAAiBW,OAAO,CAACe,QAAQ,EAAE,CAAC;QACxEC,MAAM,CAACJ,QAAQ,CAACK,IAAI,GAAGjB,OAAO,CAACe,QAAQ;MACzC,CAAC,MAAM;QACLG,KAAK,CAAC,0BAA0B,CAAC;MACnC;IACF,CAAC,MAAM;MACLA,KAAK,CAAC,qBAAqB,CAAC;IAC9B;EACF,CAAC,EAAE,CAACxB,SAAS,CAAC,CAAC;EAEf,oBAAOH,OAAA;IAAA4B,QAAA,EAAI;EAAc;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC;AAChC;AAAC9B,EAAA,CA7BQD,YAAY;EAAA,QACGJ,SAAS;AAAA;AAAAoC,EAAA,GADxBhC,YAAY;AA+BrB,eAAeA,YAAY;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}